{"version":3,"sources":["components/Orbit.js","state.js","components/Model.js","components/CameraControls.js","components/CameraBtns.js","components/Txt.js","components/Light.js","App.js","index.js"],"names":["Orbit","useThree","camera","gl","attach","args","domElement","state","cameraPos","THREE","target","shouldUpdate","activeName","activeMesh","Model","props","useLoader","GLTFLoader","path","nodes","scene","getObjectByName","useMemo","Object","values","forEach","obj","isMesh","assign","castShadow","receiveShadow","object","position","scale","Array","fill","dispose","CameraControls","useFrame","lerp","orbitControls","update","clone","sub","length","pos","CameraBtns","btns","useRef","handleClick","index","btns_li","current","querySelectorAll","classList","remove","add","set","setIndex","className","ref","onClick","Txt","txt","useEffect","box","idx","tit","querySelector","tit_txt","innerText","newTags","count","letter","innerHTML","boxs","Index","Light","color","intensity","intennsity","show","emissive","extend","OrbitControls","App","useState","shadowMap","style","background","fallback","process","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94b61fb3.chunk.js","sourcesContent":["import { useThree } from 'react-three-fiber';\r\n\r\nfunction Orbit() {\r\n  const { camera, gl } = useThree();\r\n  return (\r\n    <orbitControls attach='orbitControls' args={[camera, gl.domElement]} />\r\n  );\r\n}\r\n\r\nexport default Orbit;","import * as THREE from 'three';\n\nconst state = {\n\tcameraPos: new THREE.Vector3(6, 0, 7),\n\ttarget: new THREE.Vector3(0, 0, 0),\n\tshouldUpdate: true,\n\tactiveName: 'Cube001_0',\n\tactiveMesh: {},\n};\n\nexport default state;","import { useLoader } from 'react-three-fiber';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { useMemo } from 'react';\nimport state from '../state';\n\nfunction Model(props) {\n\tconst { nodes, scene } = useLoader(GLTFLoader, props.path);\n\tstate.activeMesh = scene.getObjectByName(state.activeName);\n\n\tuseMemo(() => {\n\t\tObject.values(nodes).forEach((obj) => {\n\t\t\tobj.isMesh && Object.assign(obj, { castShadow: true });\n\t\t\tobj.receiveShadow = true;\n\t\t});\n\t}, [nodes]);\n\n\treturn (\n\t\t<primitive\n\t\t\tobject={scene}\n\t\t\tposition={props.position}\n\t\t\tscale={new Array(3).fill(props.scale)}\n\t\t\tdispose={null}\n\t\t\tcastShadow\n\t\t/>\n\t);\n}\n\nexport default Model;","import { useFrame } from 'react-three-fiber';\nimport state from '../state';\n\nfunction CameraControls() {\n\tuseFrame(({ camera, scene }) => {\n\t\tif (state.shouldUpdate) {\n\t\t\tcamera.position.lerp(state.cameraPos, 0.05);\n\t\t\tscene.orbitControls.target.lerp(state.target, 0.05);\n\t\t\tscene.orbitControls.update();\n\n\t\t\tconst diff = camera.position.clone().sub(state.cameraPos).length();\n\t\t\tif (diff < 0.1) state.shouldUpdate = false;\n\t\t}\n\t});\n\treturn null;\n}\n\nexport default CameraControls;\n","import state from '../state';\nimport { useRef } from 'react';\n\nconst pos = {\n\t0: {\n\t\tcameraPos: [7, 0, 7],\n\t\ttarget: [0, 0, 0],\n\t},\n\t1: {\n\t\tcameraPos: [-3, 2, 4],\n\t\ttarget: [0, 1, 0],\n\t},\n\t2: {\n\t\tcameraPos: [7, 1, 2],\n\t\ttarget: [0, 0, 0],\n\t},\n\t3: {\n\t\tcameraPos: [-2, 0, -1],\n\t\ttarget: [0, 0, 0],\n\t},\n\n\t4: {\n\t\tcameraPos: [6, 7, 6],\n\t\ttarget: [1, 0, 0],\n\t},\n};\n\nfunction CameraBtns(props) {\n\tconst btns = useRef(null);\n\n\tconst handleClick = (index) => {\n\t\tconst btns_li = btns.current.querySelectorAll('li');\n\t\tfor (const btn of btns_li) btn.classList.remove('on');\n\t\tbtns_li[index].classList.add('on');\n\n\t\tstate.cameraPos.set(...pos[index].cameraPos);\n\t\tstate.target.set(...pos[index].target);\n\t\tstate.shouldUpdate = true;\n\t\tprops.setIndex(index);\n\t};\n\n\treturn (\n\t\t<ul className='cameraBtns' ref={btns}>\n\t\t\t<li className='on' onClick={() => handleClick(0)}>\n\t\t\t\tConsect\n\t\t\t</li>\n\t\t\t<li onClick={() => handleClick(1)}>Dolor</li>\n\t\t\t<li onClick={() => handleClick(2)}>Lorem</li>\n\t\t\t<li onClick={() => handleClick(3)}>Sit amet</li>\n\t\t\t<li onClick={() => handleClick(4)}>Adipisic</li>\n\t\t</ul>\n\t);\n}\n\nexport default CameraBtns;\n","import { useRef, useEffect } from 'react';\n\nfunction Txt(props) {\n\tconst txt = useRef(null);\n\n\tconst init = () => {\n\t\tconst boxs = txt.current.querySelectorAll('article');\n\t\tboxs.forEach((box, idx) => {\n\t\t\tconst tit = box.querySelector('h2');\n\t\t\tconst tit_txt = tit.innerText;\n\t\t\tlet newTags = '';\n\t\t\tlet count = 0;\n\n\t\t\tfor (const letter of tit_txt) {\n\t\t\t\tnewTags += `<span style='transition-delay: ${0.1 * count++\n\t\t\t\t\t}s'>${letter}</span>`;\n\t\t\t}\n\t\t\ttit.innerHTML = newTags;\n\t\t});\n\t};\n\n\tconst activation = () => {\n\t\tconst boxs = txt.current.querySelectorAll('article');\n\t\tfor (const box of boxs) box.classList.remove('on');\n\t\tboxs[props.Index].classList.add('on');\n\t};\n\n\tuseEffect(init, []);\n\tuseEffect(activation, [props.Index]);\n\n\treturn (\n\t\t<section className='txt' ref={txt}>\n\t\t\t<article className='on'>\n\t\t\t\t<h2>Consect</h2>\n\t\t\t\t<p>\n\t\t\t\t\tLorem ipsum dolor sit, amet consectetur adipisicing elit. Odio nihil\n\t\t\t\t\ttotam minus, expedita debitis quas! Reiciendis distinctio in fugit\n\t\t\t\t\tmolestiae.\n\t\t\t\t</p>\n\t\t\t</article>\n\t\t\t<article>\n\t\t\t\t<h2>Dolor</h2>\n\t\t\t\t<p>\n\t\t\t\t\tLorem ipsum dolor sit amet consectetur adipisicing elit. Debitis sit\n\t\t\t\t\tenim obcaecati.Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis sit\n\t\t\t\t\tenim obcaecati. <br />\n\t\t\t\t\t<br />\n\t\t\t\t\tRem id saepe sapiente provident. Itaque dicta explicabo, minima\n\t\t\t\t\tassumenda corporis nemo placeat optio quam consectetur! Vel ad\n\t\t\t\t\tpraesentium aspernatur doloremque quae maxime ipsum exercitationem\n\t\t\t\t\tmagnam ipsam voluptas?\n\t\t\t\t</p>\n\t\t\t</article>\n\t\t\t<article>\n\t\t\t\t<h2>Lorem</h2>\n\t\t\t\t<p>\n\t\t\t\t\tLorem ipsum dolor sit amet consectetur adipisicing elit. Neque nisi\n\t\t\t\t\tsuscipit enim officiis porro, eligendi excepturi repudiandae corrupti\n\t\t\t\t\tmolestiae.\n\t\t\t\t</p>\n\t\t\t</article>\n\t\t\t<article>\n\t\t\t\t<h2>Sit amet</h2>\n\t\t\t\t<p>\n\t\t\t\t\tNecessitatibus eos maxime eaque quaerat iusto est modi temporibus.\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\tAliquid quaerat accusamus amet blanditiis deserunt eaque, labore nobis\n\t\t\t\t\ttempore facere minus inventore totam quo nulla doloremque deleniti\n\t\t\t\t\tdolore qui officia consequatur corrupti. <br />\n\t\t\t\t\tLorem ipsum, dolor sit amet consectetur adipisicing elit. Alias, quod!\n\t\t\t\t</p>\n\t\t\t</article>\n\t\t\t<article>\n\t\t\t\t<h2>Adipisic</h2>\n\t\t\t\t<p>\n\t\t\t\t\tLorem ipsum dolor sit, amet consectetur adipisicing elit. <br />\n\t\t\t\t\t<br />\n\t\t\t\t\t/Soluta deserunt quam impedit, sunt atque similique expedita accusamus\n\t\t\t\t\tomnis, pariatur debitis, perspiciatis adipisci exercitationem natus\n\t\t\t\t\tillum ratione neque id placeat voluptas sed minima odio sint.\n\t\t\t\t</p>\n\t\t\t</article>\n\t\t\t<article>\n\t\t\t\t<h2>Corporis</h2>\n\t\t\t\t<p>\n\t\t\t\t\tLorem, ipsum dolor sit amet consectetur adipisicing elit. <br />\n\t\t\t\t\tMinima iste quo doloremque veritatis assumenda quam reiciendis! Et\n\t\t\t\t\tpariatur delectus dicta asperiores, iste, modi doloribus architecto\n\t\t\t\t\trerum a omnis molestias.\n\t\t\t\t</p>\n\t\t\t</article>\n\t\t</section>\n\t);\n}\n\nexport default Txt;\n","function Light(props) {\n\treturn (\n\t\t<mesh position={props.position}>\n\t\t\t<pointLight color={props.color} intensity={props.intennsity} castShadow />\n\t\t\t{props.show && (\n\t\t\t\t<>\n\t\t\t\t\t<sphereBufferGeometry args={[0.1, 10, 10]} />\n\t\t\t\t\t<meshPhongMaterial emissive={props.color} />\n\t\t\t\t</>\n\t\t\t)}\n\t\t</mesh>\n\t);\n}\n\nexport default Light;\n","import './scss/style.scss';\nimport Orbit from './components/Orbit';\nimport Model from './components/Model';\nimport CameraControls from './components/CameraControls';\nimport CameraBtns from './components/CameraBtns';\nimport Txt from './components/Txt';\nimport Light from './components/Light';\n\nimport { Suspense, useState } from 'react';\nimport { Canvas, extend } from 'react-three-fiber';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nextend({ OrbitControls });\n\n\nfunction App() {\n\tconst [Index, setIndex] = useState(0);\n\n\n\treturn (\n\t\t<figure>\n\t\t\t<h1>Village</h1>\n\t\t\t<Txt Index={Index} />\n\t\t\t<CameraBtns setIndex={setIndex} />\n\t\t\t<Canvas\n\t\t\t\tshadowMap\n\t\t\t\tstyle={{ background: '#bbb' }}\n\t\t\t\tcamera={{ position: [7, 7, 7] }}>\n\t\t\t\t{/* <axesHelper args={[5]} /> */}\n\t\t\t\t<Orbit />\n\t\t\t\t<CameraControls />\n\t\t\t\t<ambientLight color={'#888'} intensity={0.8} />\n\t\t\t\t<Light\n\t\t\t\t\tposition={[-5, 4, 0]}\n\t\t\t\t\tshow={true}\n\t\t\t\t\tcolor={'#ff9900'}\n\t\t\t\t\tintensity={0.5}\n\t\t\t\t/>\n\t\t\t\t<Light\n\t\t\t\t\tposition={[0, 5, 0]}\n\t\t\t\t\tshow={true}\n\t\t\t\t\tcolor={'#ff9900'}\n\t\t\t\t\tintensity={1}\n\t\t\t\t/>\n\n\t\t\t\t<Suspense fallback={null}>\n\t\t\t\t\t<Model\n\t\t\t\t\t\tpath={process.env.PUBLIC_URL + '/village/scene.gltf'}\n\t\t\t\t\t\tposition={[2, -2, 6]}\n\t\t\t\t\t\tscale={0.1}\n\t\t\t\t\t/>\n\t\t\t\t</Suspense>\n\t\t\t</Canvas>\n\t\t</figure>\n\t);\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}